---
description: Henesisではトランザクションの状態変更を簡単に追跡することができます。
---

# 導入

{% hint style="info" %}
現在"Tracking Transactions"機能は、Ethereum Ropstenでのみ利用可能です。近いうちに、他のプラットフォームやネットワークもサポートする予定です
{% endhint %}

## トランザクションとは？

トランザクションとは、ブロックチェーンに記録された状態を変更するために電子署名されたデータのことです。

ブロックチェーンの状態を変更するためには、トランザクションが作成されブロックチェーンのネットワーク内に伝達される必要があります。しかし、ブロックチェーンにおいてトランザクションを扱うことは困難です。なぜでしょうか？

* トランザクションがリアルタイムでブロックに追加されません。それゆえにユーザに正確な情報を与えるためには、トランザクションの現在の状態を正確に把握する必要がある
* 状況によってはトランザクションのマイニングが遅れたりキャンセルされたりする可能性がある

つまり、「トランザクションを正常に扱う」というのは、以下を満たしてこそ成り立つのです。

* トランザクションが最終的にマイニングできたかどうか継続的に確認し、その結果をユーザに通知する
* トランザクションが想定される時間内にマイニングされていない場合、原因を調査し適切な措置を取る

要するに、トランザクションの状態をリアルタイムで監視し、それによって適切な行動を取る必要があります。では、トランザクションが取りうる状態にはどのようなものがあるのでしょうか？

## トランザクションの状態

Henesisでは、トランザクションの状態を大きく3つに区分します。

<table>
  <thead>
    <tr>
      <th style="text-align:left">Status</th>
      <th style="text-align:left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"><b>Pending</b>
      </td>
      <td style="text-align:left">
        <p>&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x306F;&#x4F5C;&#x6210;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x304C;&#x307E;&#x3060;&#x30DE;&#x30A4;&#x30CB;&#x30F3;&#x30B0;&#x306F;&#x5B8C;&#x4E86;&#x3057;&#x3066;&#x3044;&#x306A;&#x3044;&#x72B6;&#x614B;&#x3067;&#x3059;&#x3002;&#x3053;&#x306E;&#x72B6;&#x614B;&#x304C;&#x767A;&#x751F;&#x3059;&#x308B;&#x8981;&#x56E0;&#x3068;&#x3057;&#x3066;&#x8003;&#x3048;&#x3089;&#x308C;&#x308B;&#x306E;&#x306F;&#x4E3B;&#x306B;2&#x3064;&#x3067;&#x3059;&#x3002;</p>
        <ol>
          <li>&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x30C1;&#x30A7;&#x30FC;&#x30F3;&#x30CD;&#x30C3;&#x30C8;&#x30EF;&#x30FC;&#x30AF;&#x5185;&#x306B;&#x6B63;&#x3057;&#x304F;&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x4F1D;&#x9054;&#x3055;&#x308C;&#x3066;&#x304A;&#x3089;&#x305A;&#x3001;&#x63A1;&#x6398;&#x8005;&#x30CE;&#x30FC;&#x30C9;&#x306E;txpool&#x306B;&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x8FFD;&#x52A0;&#x3055;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;</li>
          <li>&#x30AC;&#x30BD;&#x30EA;&#x30F3;&#x4FA1;&#x683C;&#x304C;&#x3084;&#x3059;&#x3044;&#x305F;&#x3081;&#x3001;&#x63A1;&#x6398;&#x8005;&#x304C;&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x306B;&#x914D;&#x7F6E;&#x3057;&#x3066;&#x3044;&#x306A;&#x3044;</li>
        </ol>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"><b>Receipt</b>
      </td>
      <td style="text-align:left">
        <p>&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x30DE;&#x30A4;&#x30CB;&#x30F3;&#x30B0;&#x3055;&#x308C;&#x3001;&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x306B;&#x542B;&#x307E;&#x308C;&#x305F;&#x72B6;&#x614B;&#x3067;&#x3059;&#x3002;</p>
        <p></p>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"><b>Confirmation</b>
      </td>
      <td style="text-align:left">&#x30C8;&#x30E9;&#x30F3;&#x30B6;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x63A1;&#x6398;&#x3055;&#x308C;&#x305F;&#x5F8C;&#x306B;&#x8FFD;&#x52A0;&#x30D6;&#x30ED;&#x30C3;&#x30AF;&#x304C;&#x751F;&#x6210;&#x3055;&#x308C;&#x305F;&#x305F;&#x3081;&#x30C1;&#x30A7;&#x30FC;&#x30F3;&#x518D;&#x7DE8;&#x6210;&#x304C;&#x56F0;&#x96E3;&#x3067;&#x3042;&#x308B;</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
    </tr>
  </tbody>
</table>## トランザクションの状態を追跡する難しさ

今、トランザクションには3つの状態があることを学びました。しかし、サービスで発生するすべてのトランザクションの状態を追跡することは想像以上に困難です。

* 追跡するトランザクションの量が多くなるほど、消費するシステムリソースも多くなります
* `Pending`状態を正しく把握するためには、トランザクションのプールを照会する必要があります。しかし、ほとんどのノードプロバイダは、トランザクションのプールを照会するためのRPCコールをサポートしていません。それゆえに自分でそれを操作する必要があります
* トランザクションの状態が更新されるたびにリアルタイムで知らせるインフラ環境の構築が必要です

## Henesisは上記の課題を次のように解決します

* トランザクションの状態を追跡するマネージメントサービスを提供し、システムリソースを拡張しなくても多くのトランザクションを処理することができます。
* Henesisのブロックチェーンノードを利用してトランザクションプールを照会することができるため、自ら直接ノードを操作する必要がありません。
* HenesisはWebsocketを利用してトランザクションの状態をリアルタイムで通知するので、メッセージ配信のための別途のインフラを構築する必要がありません。





